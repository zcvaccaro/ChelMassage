<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Client Intake Form | Massage Therapy</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
</head>
<body>
  <header>
    <div class="container header-inner">
      <div class="logo"><a href="{{ url_for('home') }}">Chelsea Vaccaro<br><small>MassageTherapy</small></a></div>
      <nav id="navMenu">
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('home') }}#services">Services</a>
        <a href="{{ url_for('home') }}#about">About</a>
        <a href="{{ url_for('home') }}#contact">Contact</a>
      </nav>
      <button class="nav-toggle" id="navToggle">â˜°</button>
    </div>
  </header>

  <main>
    <section class="reservation-section container">
      <h2>Client Intake Form</h2>
      <p>Please complete the form below. Your information is confidential and will help us provide the best possible service.</p>
      <form class="intake-form" action="{{ url_for('intake_confirmation_page') }}">
        <!-- Hidden field for the booking ID -->
        <input type="hidden" id="bookingId" name="bookingId">

        <fieldset>
          <legend>Personal Information</legend>
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">First Name</label>
              <input type="text" id="firstName" name="firstName">
            </div>
            <div class="form-group">
              <label for="lastName">Last Name</label>
              <input type="text" id="lastName" name="lastName">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="email">Email Address</label>
              <input type="email" id="email" name="email">
            </div>
            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input type="tel" id="phone" name="phone">
            </div>
          </div>
          <div class="form-group">
            <label for="dob">Date of Birth</label>
            <input type="date" id="dob" name="dob" required>
          </div>
          <div class="form-group">
            <label for="address">Address</label>
            <input type="text" id="address" name="address"  required>
          </div>
        </fieldset>

        <fieldset>
          <legend>Health Information</legend>
          <div class="form-group">
          </div>
          <div class="form-group">
            <label for="reason">Reason for Visit</label>
            <textarea id="reason" name="reason" rows="3" required></textarea>
          </div>
          <div class="form-group">
            <label for="conditions">Do you have any medical conditions we should be aware of?</label>
            <textarea id="conditions" name="conditions" rows="3"></textarea>
          </div>
          <div class="form-group">
            <label for="allergies">Please list any allergies (medications, oils, scents, etc.)</label>
            <textarea id="allergies" name="allergies" rows="3"></textarea>
          </div>
        </fieldset>

        <fieldset>
          <legend>Problem Areas</legend>
          <p>Please circle on the areas of the diagrams where you feel discomfort or pain.</p>
          <div class="body-chart-container">
            <div id="body-chart-front" class="body-chart">
              <p>Front</p>
              <img src="{{ url_for('static', filename='Images/Front.png') }}" alt="Front of body">
              <button type="button" class="undo-btn">Undo Last Mark</button>
            </div>
            <div id="body-chart-back" class="body-chart">
              <p>Back</p>
              <img src="{{ url_for('static', filename='Images/Back.png') }}" alt="Back of body">
              <button type="button" class="undo-btn">Undo Last Mark</button>
            </div>
          </div>
          <!-- Hidden input to store the coordinates of clicks -->
          <input type="hidden" id="problemAreas" name="problemAreas">
        </fieldset>

        <fieldset>
          <legend>Policies & Agreement</legend>
          <div class="terms-box">
            <h4>Cancellation Policy</h4>
            <div>To ensure all clients are treated fairly and can receive treatment on time, we ask that you provide at least <strong>24 hours notice</strong>
              if you need to change, reschedule, or cancel your appointment.<br>
            The following fees will apply for appointments changed or missed without sufficient notice:</div>
            <ul>
              <li><strong>Less than 24 hours notice:</strong> 50% of the treatment price.</li>
              <li><strong>No-show or missed appointment:</strong> 100% of the treatment price.</li>
            </ul>
            <p>Any charges incurred must be paid prior to your next scheduled appointment. If you have credit on your account
              (from a pre-paid package or gift certificate), the fee will be deducted from your balance. We appreciate your understanding.</p>
            <h4>Terms & Conditions</h4>
            <p>I understand that the massage therapy I receive is provided for the basic purpose of relaxation and relief of muscular tension.
              If I experience any pain or discomfort during this session, I will immediately inform the therapist so that the pressure
              and/or strokes may be adjusted to my level of comfort. I further understand that massage therapy should not be construed as a
              substitute for medical examination, diagnosis, or treatment and that I should see a physician, chiropractor, or other qualified medical
              specialist for any mental or physical ailment of which I am aware. I understand that massage therapists are not qualified to perform spinal
              or skeletal adjustments, diagnose, prescribe, or treat any physical or mental illness, and that nothing said in the course of the
              session given should be construed as such.</p>
          </div>
          <div class="form-group agreement-group">
            <input type="checkbox" id="agreeTerms" name="agreeTerms">
            <span class="agreement-text"><strong> I have read and agree to the Cancellation Policy and Terms & Conditions.</strong></span>
            <label for="agreeTerms" class="checkbox-label"></label>
            <small id="agree-error-message" class="error-message" style="display: none;">You must agree to the terms to continue.</small>
          </div>
        </fieldset>

        <div style="text-align: center; margin-top: 1.5rem;">
          <button type="submit" class="cta">Submit Intake Form</button>
        </div>
      </form>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 CVLMT MassageTherapy. All rights reserved.</p>
  </footer>

  <script src="{{ url_for('static', filename='main.js') }}"></script>
  <script src="{{ url_for('static', filename='intake.js') }}"></script>
</body>
</html>